# onehaven_decision_engine/.env.example

APP_ENV=dev
DATABASE_URL=postgresql+psycopg://app:app@postgres:5432/decision_engine

# CORS (comma-separated or "*")
CORS_ALLOW_ORIGINS=*

# ---- Auth (cookie JWT) ----
# IMPORTANT: set a real random value for JWT_SECRET in any environment beyond local dev.
JWT_SECRET=dev-change-me
JWT_EXP_MINUTES=10080
JWT_COOKIE_NAME=onehaven_jwt
JWT_COOKIE_SECURE=0
JWT_COOKIE_SAMESITE=lax

# Local bypass headers only if APP_ENV=local
ALLOW_LOCAL_AUTH_BYPASS=1
DEV_HEADER_ORG_SLUG=X-Org-Slug
DEV_HEADER_USER_EMAIL=X-User-Email
DEV_HEADER_USER_ROLE=X-User-Role
DEV_AUTO_VERIFY_EMAIL=1

# API keys (optional)
ENABLE_API_KEYS=1
API_KEY_PEPPER=dev-pepper-change-me
API_KEY_PREFIX_LEN=10

# Plans
DEFAULT_PLAN_CODE=free

# External APIs (optional)
HUD_USER_TOKEN=
RENTCAST_API_KEY=

# Celery
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_QUEUE=celery

# Agents
AGENTS_MAX_RUNS_PER_PROPERTY_PER_HOUR=3
AGENTS_MAX_RETRIES=3
AGENTS_RUN_TIMEOUT_SECONDS=120
TRACE_MIRROR_TO_MESSAGES=0